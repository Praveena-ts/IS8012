#pragma checksum "C:\Users\18645\Desktop\GroceryList\Pages\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "47fe136824d175ed6f9df4ffd2d4abf7dfa95a87"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(GroceryList.Pages.Pages_Index), @"mvc.1.0.razor-page", @"/Pages/Index.cshtml")]
namespace GroceryList.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\18645\Desktop\GroceryList\Pages\_ViewImports.cshtml"
using GroceryList;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"47fe136824d175ed6f9df4ffd2d4abf7dfa95a87", @"/Pages/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ccfafef732557500cd386dd945f6af052bfc1cc3", @"/Pages/_ViewImports.cshtml")]
    public class Pages_Index : global::Microsoft.AspNetCore.Mvc.RazorPages.Page
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("method", "post", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("novalidate", new global::Microsoft.AspNetCore.Html.HtmlString("novalidate"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("add_property"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 3 "C:\Users\18645\Desktop\GroceryList\Pages\Index.cshtml"
  
    ViewData["Title"] = "Home page";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<div class=""text-center"">
    <h1 class=""display-4"">Welcome</h1>
    <p>Learn about <a href=""https://docs.microsoft.com/aspnet/core"">building Web apps with ASP.NET Core</a>.</p>
</div>

<h1>Add a property</h1>
<hr />

<div class=""row"">
    <div class=""col-md-4"">
        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "47fe136824d175ed6f9df4ffd2d4abf7dfa95a874439", async() => {
                WriteLiteral(@"
            <div class=""form-group"">
                <label class=""control-label"" for=""Property_Billingdate"">Billingdate</label>
                <input class=""form-control"" type=""datetime-local"" data-val=""true"" data-val-required=""The Billingdate field is required."" id=""Property_Billingdate"" name=""Property.Billingdate""");
                BeginWriteAttribute("value", " value=\"", 739, "\"", 747, 0);
                EndWriteAttribute();
                WriteLiteral(@">
                <span class=""text-danger field-validation-valid"" data-valmsg-for=""Property.Billingdate"" data-valmsg-replace=""true""></span>
            </div>
            <div class=""form-group"">
                <label class=""control-label"" for=""Property_ItemName"">Item Name</label>
                <input class=""form-control"" type=""number"" data-val=""true"" data-val-required=""The bedroom Count field is required."" id=""Property_ItemName"" name=""Property.ItemName""");
                BeginWriteAttribute("value", " value=\"", 1215, "\"", 1223, 0);
                EndWriteAttribute();
                WriteLiteral(@">
                <span class=""text-danger field-validation-valid"" data-valmsg-for=""Property.ItemName"" data-valmsg-replace=""true""></span>
            </div>
            <div class=""form-group"">
                <label class=""control-label"" for=""Property_Billamount"">Bill Amount</label>
                <input class=""form-control"" type=""number"" data-val=""true"" data-val-required=""The bathroom Count field is required."" id=""Property_Billamount"" name=""Property.Billamount""");
                BeginWriteAttribute("value", " value=\"", 1697, "\"", 1705, 0);
                EndWriteAttribute();
                WriteLiteral(@">
                <span class=""text-danger field-validation-valid"" data-valmsg-for=""Property.Billamount"" data-valmsg-replace=""true""></span>
            </div>
            
            <div class=""form-group form-check"">
                <label class=""form-check-label"">
                    <input class=""form-check-input"" type=""checkbox"" data-val=""true"" data-val-required=""The IsBillingComplete field is required."" id=""Property_IsBillingComplete"" name=""Property.IsBillingComplete"" value=""true"">Item Purchased
                </label>
            </div>
            <div class=""form-group"">
                <input type=""submit"" value=""Create"" class=""btn btn-primary"">
            </div>
        ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_0.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
    </div>
</div>

<h1>Properties List</h1>
<table class=""table"">
    <thead>
        <tr>
            <th>
                Billingdate
            </th>
            <th>
                Item Name
            </th>
            <th>
                Bill Amount
            </th>
           
            <th>
                Item Purchased
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody id=""ItemList"">
    </tbody>
</table>

");
            DefineSection("Scripts", async() => {
                WriteLiteral(@"

    <script type=""text/javascript"">

        $(function () {
            loadData();
            $(""#add_property"").submit(function () {
                createProperty();
                return false;
            });
        });

        function loadData() {
            $.ajax({
                url: ""/api/properties"",
                dataType: 'json',
                contentType: 'application/json',
                method: 'GET'
            }).done(function (responseJSON, status, xhr) {
                buildItemsList(responseJSON);
            }).fail(function (xhr, status, error) {
                alert(""There was an error retrieving the data"");
            });
        }

        function buildItemsList(items) {
            $(""#ItemList"").empty();
            $.each(items, function (index, item) {
                $(""#ItemList"").append('<tr property-id=""' + item.id + '""><td>' + item.Billingdate + '</td><td>' + item.ItemName + '</td><td>' + item.Billamount + '</td><td class=""text");
                WriteLiteral(@"-center""><input class=""form-check-input"" type=""checkbox""></td><td><a href=""#"" class=""pull-right property-delete"">Delete</a></td></tr>');
                $('tr[property-id=""' + item.id + '""] [type=""checkbox""]').prop('checked', item.IsBillingComplete);
            });
        }

        function deleteBook(id) {
            $.ajax({
                url: '/api/properties/' + id,
                dataType: 'json',
                contentType: 'application/json',
                method: 'DELETE',
            }).done(function (responseData, status, xhr) {
                loadData();
            }).fail(function (xhr, status, error) {
                alert(""There was an error deleting your book"");
            });
        }

        $(""#ItemList"").on('click', 'a.property-delete', function () {
            var id = $(this).parents(""tr"").attr('property-id');
            if (confirm(""Are you sure you want to delete this property"")) {
                deleteBook(id);
            }
            return ");
                WriteLiteral(@"false;
        });

        function createProperty() {
            var requestData = {
                Billingdate: $(""#Property_Billingdate"").val(),
                ItemName: parseInt($(""#Property_ItemName"").val()),
                Billamount: parseInt($(""#Property_Billamount"").val()),
      
                IsBillingComplete: $(""#Property_IsBillingComplete"").is("":checked"")
            };
            $.ajax({
                url: '/api/Properties',
                data: JSON.stringify(requestData),
                method: 'POST',
                dataType: 'json',
                contentType: 'application/json'
            }).done(function (response, status, xhr) {
                loadData(); // RELOAD THE ITEM DATA
                $(""#Property_Billingdate"").val("""");
                $(""#Property_ItemName"").val("""");
                $(""#Property_Billamount"").val("""")
            
                $(""#Property_IsBillingComplete"").val("""");
            }).fail(function (response, status, xhr");
                WriteLiteral(@") {
                alert(""There was an error saving your property"");
            });
        }


        function sellItem(id, IsBillingComplete) {
            var requestData = {
                IsBillingComplete: IsBillingComplete
            };
            $.ajax({
                url: '/api/properties/ItemLists/' + id,
                dataType: 'json',
                contentType: 'application/json',
                method: 'PUT',
                data: JSON.stringify(requestData)
            }).done(function (responseData, status, xhr) {
                loadData();
                if (callback) {
                    callback();
                }
            }).fail(function (xhr, status, error) {
                alert(""There was an error saving your property"");
            });
        }

        $(""#ItemList"").on('click', '[type=""checkbox""]', function () {
            var id = $(this).parents(""tr"").attr('property-id');
            sellItem(id, $(this).prop('checked'));
      ");
                WriteLiteral("      return false;\r\n        });\r\n    </script>\r\n");
            }
            );
            WriteLiteral("}");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IndexModel> Html { get; private set; }
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<IndexModel> ViewData => (global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<IndexModel>)PageContext?.ViewData;
        public IndexModel Model => ViewData.Model;
    }
}
#pragma warning restore 1591
